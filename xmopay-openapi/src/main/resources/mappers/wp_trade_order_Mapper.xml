<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.xmopay.openapi.dao.TradeOrderDao">    <resultMap id="tradeOrderResultMap" type="TradeOrderDto">        <id column="TOID" jdbcType="INTEGER" property="toid" />        <result column="TRAN_TYPE" jdbcType="INTEGER" property="tranType" />        <result column="ORDER_SN" jdbcType="VARCHAR" property="orderSn" />        <result column="BILLING_SN" jdbcType="VARCHAR" property="billingSn" />        <result column="PARTNER_ID" jdbcType="VARCHAR" property="partnerId" />        <result column="PARTNER_NAME" jdbcType="VARCHAR" property="partnerName" />        <result column="PAY_TYPE" jdbcType="VARCHAR" property="payType" />        <result column="BANK_CODE" jdbcType="VARCHAR" property="bankCode" />        <result column="CHANNEL_CODE" jdbcType="VARCHAR" property="channelCode" />        <result column="ORDER_TITLE" jdbcType="VARCHAR" property="orderTitle" />        <result column="ORDER_AMOUNT" jdbcType="DECIMAL" property="orderAmount" />        <result column="ORDER_TIME" jdbcType="TIMESTAMP" property="orderTime" />        <result column="TRADE_TIME" jdbcType="TIMESTAMP" property="tradeTime" />        <result column="FINISH_TIME" jdbcType="TIMESTAMP" property="finishTime" />        <result column="TRADE_IP" jdbcType="VARCHAR" property="tradeIp" />        <result column="TRADE_HASH" jdbcType="VARCHAR" property="tradeHash" />        <result column="NOTIFY_URL" jdbcType="VARCHAR" property="notifyUrl" />        <result column="RETURN_URL" jdbcType="VARCHAR" property="returnUrl" />        <result column="EXTEND_PARAM" jdbcType="VARCHAR" property="extendParam" />        <result column="OUT_TRADE_NO" jdbcType="VARCHAR" property="outTradeNo" />        <result column="OUT_TRADE_TIME" jdbcType="TIMESTAMP" property="outTradeTime" />        <result column="SIGN_TYPE" jdbcType="VARCHAR" property="signType" />        <result column="VERSION" jdbcType="VARCHAR" property="version"/>        <result column="REMARK" jdbcType="VARCHAR" property="remark" />        <result column="ORDER_SIGN" jdbcType="VARCHAR" property="orderSign" />        <result column="ORDER_STATUS" jdbcType="INTEGER" property="orderStatus" />    </resultMap>    <parameterMap id="tradeOrderParameterMap" type="TradeOrderDto">        <parameter jdbcType="INTEGER" property="tranType" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="orderSn" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="billingSn" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="partnerId" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="partnerName" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="payType" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="bankCode" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="channelCode" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="orderTitle" resultMap="tradeOrderResultMap" />        <parameter jdbcType="DECIMAL" property="orderAmount" resultMap="tradeOrderResultMap" />        <parameter jdbcType="TIMESTAMP" property="orderTime" resultMap="tradeOrderResultMap" />        <parameter jdbcType="TIMESTAMP" property="tradeTime" resultMap="tradeOrderResultMap" />        <parameter jdbcType="TIMESTAMP" property="finishTime" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="tradeIp" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="tradeHash" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="notifyUrl" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="returnUrl" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="extendParam" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="outTradeNo" resultMap="tradeOrderResultMap" />        <parameter jdbcType="TIMESTAMP" property="outTradeTime" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="signType" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="version" resultMap="tradeOrderResultMap" />        <parameter jdbcType="VARCHAR" property="remark" resultMap="tradeOrderResultMap" />        <parameter jdbcType="INTEGER" property="orderStatus" resultMap="tradeOrderResultMap" />    </parameterMap>    <sql id="sqlTradeOrderWhere">        <trim prefix="WHERE" prefixOverrides="AND | OR">            <if test="tranType != null and tranType != ''"> and TRAN_TYPE = #{tranType}</if>            <if test="partnerId != null and partnerId != ''"> and PARTNER_ID = #{partnerId}</if>            <if test="orderSn != null and orderSn != ''"> and ORDER_SN = #{orderSn}</if>        </trim>    </sql>    <select id="getTradeOrderInfoById" resultMap="tradeOrderResultMap" parameterType="TradeOrderDto">        SELECT * FROM  wp_trade_order WHERE ORDER_SN = #{orderSn}    </select>    <!-- 根据订单号查询订单信息 -->    <select id="getTradeOrderInfo" resultMap="tradeOrderResultMap" parameterMap="tradeOrderParameterMap">        SELECT * FROM wp_trade_order        <trim prefix="WHERE" prefixOverrides="AND | OR">            <if test="orderSn != null and orderSn != ''"> and  ORDER_SN = #{orderSn}</if>            <if test="partnerId != null and partnerId != ''"> and  PARTNER_ID = #{partnerId}</if>            <if test="outTradeNo != null and outTradeNo != ''"> and OUT_TRADE_NO = #{outTradeNo}</if>            <if test="orderStatus != null"> and ORDER_STATUS = #{orderStatus}</if>        </trim>    </select>    <insert id="insertTradeOrder" parameterMap="tradeOrderParameterMap">        insert into wp_trade_order        <trim prefix="(" suffix=")" suffixOverrides=",">            <if test="tranType != null"> TRAN_TYPE, </if>            <if test="orderSn != null"> ORDER_SN, </if>            <if test="partnerId != null"> PARTNER_ID, </if>            <if test="partnerName != null"> PARTNER_NAME, </if>            <if test="payType != null"> PAY_TYPE, </if>            <if test="channelCode != null"> CHANNEL_CODE, </if>            <if test="bankCode != null"> BANK_CODE, </if>            <if test="orderTitle != null"> ORDER_TITLE, </if>            <if test="orderAmount != null"> ORDER_AMOUNT, </if>            <if test="orderTime != null"> ORDER_TIME, </if>            <if test="tradeTime != null"> TRADE_TIME, </if>            <if test="finishTime != null"> FINISH_TIME, </if>            <if test="tradeIp != null"> TRADE_IP, </if>            <if test="tradeHash != null"> TRADE_HASH, </if>            <if test="notifyUrl != null"> NOTIFY_URL, </if>            <if test="returnUrl != null"> RETURN_URL, </if>            <if test="extendParam != null"> EXTEND_PARAM, </if>            <if test="outTradeNo != null"> OUT_TRADE_NO, </if>            <if test="outTradeTime != null"> OUT_TRADE_TIME, </if>            <if test="signType != null"> SIGN_TYPE, </if>            <if test="version != null"> VERSION, </if>            <if test="orderSign != null"> ORDER_SIGN, </if>        </trim>        <trim prefix="values (" suffix=")" suffixOverrides=",">            <if test="tranType != null"> #{tranType,jdbcType=INTEGER}, </if>            <if test="orderSn != null"> #{orderSn,jdbcType=VARCHAR}, </if>            <if test="partnerId != null"> #{partnerId,jdbcType=VARCHAR}, </if>            <if test="partnerName != null"> #{partnerName,jdbcType=VARCHAR}, </if>            <if test="payType != null">#{payType,jdbcType=VARCHAR}, </if>            <if test="channelCode != null"> #{channelCode,jdbcType=VARCHAR}, </if>            <if test="bankCode != null"> #{bankCode,jdbcType=VARCHAR}, </if>            <if test="orderTitle != null"> #{orderTitle,jdbcType=VARCHAR}, </if>            <if test="orderAmount != null"> #{orderAmount,jdbcType=DECIMAL}, </if>            <if test="orderTime != null">  #{orderTime,jdbcType=TIMESTAMP}, </if>            <if test="tradeTime != null">  #{tradeTime,jdbcType=TIMESTAMP}, </if>            <if test="finishTime != null">  #{finishTime,jdbcType=TIMESTAMP}, </if>            <if test="tradeIp != null"> #{tradeIp,jdbcType=VARCHAR}, </if>            <if test="tradeHash != null"> #{tradeHash,jdbcType=VARCHAR}, </if>            <if test="notifyUrl != null"> #{notifyUrl,jdbcType=VARCHAR}, </if>            <if test="returnUrl != null"> #{returnUrl,jdbcType=VARCHAR}, </if>            <if test="extendParam != null"> #{extendParam,jdbcType=VARCHAR}, </if>            <if test="outTradeNo != null"> #{outTradeNo,jdbcType=VARCHAR}, </if>            <if test="outTradeTime != null"> #{outTradeTime,jdbcType=TIMESTAMP}, </if>            <if test="signType != null"> #{signType,jdbcType=VARCHAR}, </if>            <if test="version != null"> #{version,jdbcType=VARCHAR}, </if>            <if test="orderSign != null"> #{orderSign,jdbcType=VARCHAR}, </if>        </trim>    </insert>    <!-- 更新订单表 -->    <update id="updateTradeOrder" parameterType="TradeOrderDto">        UPDATE wp_trade_order        <set>            <if test="orderSn != null"> ORDER_SN = #{orderSn,jdbcType=VARCHAR}, </if>            <if test="payType != null"> PAY_TYPE = #{payType,jdbcType=VARCHAR}, </if>            <if test="channelCode != null"> CHANNEL_CODE = #{channelCode,jdbcType=VARCHAR}, </if>            <if test="bankCode != null"> BANK_CODE = #{bankCode,jdbcType=VARCHAR}, </if>            <if test="orderTitle != null"> ORDER_TITLE = #{orderTitle,jdbcType=VARCHAR}, </if>            <if test="orderAmount != null"> ORDER_AMOUNT = #{orderAmount,jdbcType=DECIMAL}, </if>            <if test="orderTime != null"> ORDER_TIME = #{orderTime,jdbcType=TIMESTAMP}, </if>            <if test="tradeTime != null"> TRADE_TIME = #{tradeTime,jdbcType=TIMESTAMP}, </if>            <if test="finishTime != null"> FINISH_TIME = #{finishTime,jdbcType=TIMESTAMP}, </if>            <if test="tradeIp != null"> TRADE_IP = #{tradeIp,jdbcType=VARCHAR}, </if>            <if test="tradeHash != null"> TRADE_HASH = #{tradeHash,jdbcType=VARCHAR}, </if>            <if test="notifyUrl != null"> NOTIFY_URL = #{notifyUrl,jdbcType=VARCHAR}, </if>            <if test="returnUrl != null"> RETURN_URL = #{returnUrl,jdbcType=VARCHAR}, </if>            <if test="extendParam != null"> EXTEND_PARAM = #{extendParam,jdbcType=VARCHAR}, </if>            <if test="outTradeNo != null"> OUT_TRADE_NO = #{outTradeNo,jdbcType=VARCHAR}, </if>            <if test="outTradeTime != null"> OUT_TRADE_TIME = #{outTradeTime,jdbcType=TIMESTAMP}, </if>            <if test="remark != null"> REMARK = #{remark,jdbcType=VARCHAR}, </if>            <if test="orderStatus != null"> ORDER_STATUS = #{orderStatus,jdbcType=INTEGER}, </if>        </set>        <trim prefix="WHERE" prefixOverrides="AND | OR">            <if test="orderSn != null and orderSn != ''"> AND ORDER_SN = #{orderSn,jdbcType=VARCHAR}</if>            <if test="partnerId != null and partnerId != ''"> AND PARTNER_ID = #{partnerId,jdbcType=VARCHAR}</if>        </trim>    </update></mapper>